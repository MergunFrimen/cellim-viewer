{"openapi": "3.1.0", "info": {"title": "CELLIM Viewer API", "summary": "API managing CELLIM data entries", "contact": {"name": "CELLIM Viewer developers", "url": "https://github.com/MergunFrimen/cellim-viewer", "email": "492772@mail.muni.cz"}, "license": {"name": "Apache 2.0", "identifier": "MIT"}, "version": "0.0.0"}, "paths": {"/api/v1/entries": {"post": {"tags": ["Entries"], "summary": "Create Entry", "operationId": "create_entry", "security": [{"OAuth2AuthorizationCodeBearer": []}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/EntryCreateRequest"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PrivateEntryDetailsResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "get": {"tags": ["Entries"], "summary": "List Entries", "operationId": "list_entries", "parameters": [{"name": "search_term", "in": "query", "required": false, "schema": {"anyOf": [{"type": "array", "items": {"type": "string"}}, {"type": "null"}], "description": "Keywords to search by in entry titles and descriptions.", "title": "Search Term"}, "description": "Keywords to search by in entry titles and descriptions."}, {"name": "page", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 1, "default": 1, "title": "Page"}}, {"name": "per_page", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 100, "minimum": 1, "default": 10, "title": "Per Page"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PaginatedResponse_PublicEntryPreviewResponse_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/entries/user": {"get": {"tags": ["Entries"], "summary": "List Entries For User", "operationId": "list_entries_for_user", "security": [{"OAuth2AuthorizationCodeBearer": []}], "parameters": [{"name": "search_term", "in": "query", "required": false, "schema": {"anyOf": [{"type": "array", "items": {"type": "string"}}, {"type": "null"}], "description": "Keywords to search by in entry titles and descriptions.", "title": "Search Term"}, "description": "Keywords to search by in entry titles and descriptions."}, {"name": "page", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 1, "default": 1, "title": "Page"}}, {"name": "per_page", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 100, "minimum": 1, "default": 10, "title": "Per Page"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PaginatedResponse_PrivateEntryDetailsResponse_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/entries/{entry_id}": {"get": {"tags": ["Entries"], "summary": "Get Entry", "operationId": "get_entry", "security": [{"OAuth2AuthorizationCodeBearer": []}], "parameters": [{"name": "entry_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Entry ID"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"anyOf": [{"$ref": "#/components/schemas/PrivateEntryDetailsResponse"}, {"$ref": "#/components/schemas/PublicEntryDetailsResponse"}], "title": "Response Entries-Get Entry"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "put": {"tags": ["Entries"], "summary": "Update Entry", "operationId": "update_entry", "security": [{"OAuth2AuthorizationCodeBearer": []}], "parameters": [{"name": "entry_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Entry ID"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/EntryUpdateRequest"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PrivateEntryDetailsResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "delete": {"tags": ["Entries"], "summary": "Delete Entry", "operationId": "delete_entry", "security": [{"OAuth2AuthorizationCodeBearer": []}], "parameters": [{"name": "entry_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Entry ID"}}], "responses": {"204": {"description": "Successful Response"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/entries/share/{share_link_id}": {"get": {"tags": ["Entries"], "summary": "Get Entry By Share Link", "operationId": "get_entry_by_share_link", "parameters": [{"name": "share_link_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Share Link"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/entries/{entry_id}/views": {"post": {"tags": ["Views"], "summary": "Create View", "operationId": "create_view", "security": [{"OAuth2AuthorizationCodeBearer": []}], "parameters": [{"name": "entry_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Entry ID"}}], "requestBody": {"required": true, "content": {"multipart/form-data": {"schema": {"$ref": "#/components/schemas/ViewCreateRequest"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PrivateViewResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "get": {"tags": ["Views"], "summary": "List Views For Entry", "operationId": "list_views_for_entry", "security": [{"OAuth2AuthorizationCodeBearer": []}], "parameters": [{"name": "entry_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Entry ID"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"anyOf": [{"$ref": "#/components/schemas/PrivateViewResponse"}, {"$ref": "#/components/schemas/PublicViewResponse"}]}, "title": "Response Views-List Views For Entry"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/entries/{entry_id}/views/{view_id}": {"get": {"tags": ["Views"], "summary": "Get View", "operationId": "get_view", "security": [{"OAuth2AuthorizationCodeBearer": []}], "parameters": [{"name": "view_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "View ID"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"anyOf": [{"$ref": "#/components/schemas/PrivateViewResponse"}, {"$ref": "#/components/schemas/PublicViewResponse"}], "title": "Response Views-Get View"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "put": {"tags": ["Views"], "summary": "Update View", "operationId": "update_view", "parameters": [{"name": "view_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "View ID"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ViewUpdateRequest"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ViewResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "delete": {"tags": ["Views"], "summary": "Delete View", "operationId": "delete_view", "security": [{"OAuth2AuthorizationCodeBearer": []}], "parameters": [{"name": "view_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "View ID"}}], "responses": {"204": {"description": "Successful Response"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/share_links/{share_link_id}": {"get": {"tags": ["Share Links"], "summary": "Get Share Link", "operationId": "get_share_link", "security": [{"OAuth2AuthorizationCodeBearer": []}], "parameters": [{"name": "share_link_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Entry ID"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PrivateShareLinkResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "put": {"tags": ["Share Links"], "summary": "Update Share Link", "operationId": "update_share_link", "security": [{"OAuth2AuthorizationCodeBearer": []}], "parameters": [{"name": "share_link_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Entry ID"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ShareLinkUpdateRequest"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PrivateShareLinkResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/auth/login/admin": {"get": {"tags": ["Auth"], "summary": "Login Admin", "operationId": "login_admin", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/api/v1/auth/login/user": {"get": {"tags": ["Auth"], "summary": "Login User", "operationId": "login_user", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/api/v1/auth/get_current_user": {"get": {"tags": ["Auth"], "summary": "Read Users Me", "operationId": "read_users_me", "security": [{"OAuth2AuthorizationCodeBearer": []}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/api/v1/auth/get_auth_header": {"get": {"tags": ["Auth"], "summary": "Protected Route", "operationId": "protected_route", "parameters": [{"name": "authorization", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Authorization"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/test/background-task": {"get": {"tags": ["Test"], "summary": "Background Task", "operationId": "background_task", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}}, "components": {"schemas": {"EntryCreateRequest": {"properties": {"name": {"type": "string", "maxLength": 255, "title": "Name", "examples": ["Entry Name"]}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description", "examples": ["Markdown description."]}, "is_public": {"type": "boolean", "title": "Is Public", "default": false}}, "type": "object", "required": ["name"], "title": "EntryCreateRequest"}, "EntryUpdateRequest": {"properties": {"name": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Name", "examples": ["Entry Name"]}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description", "examples": ["Markdown description."]}, "is_public": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Is Public"}}, "type": "object", "title": "EntryUpdateRequest"}, "HTTPValidationError": {"properties": {"detail": {"items": {"$ref": "#/components/schemas/ValidationError"}, "type": "array", "title": "Detail"}}, "type": "object", "title": "HTTPValidationError"}, "PaginatedResponse_PrivateEntryDetailsResponse_": {"properties": {"current_page": {"type": "integer", "minimum": 1.0, "title": "Current Page", "default": 1}, "per_page": {"type": "integer", "maximum": 100.0, "minimum": 1.0, "title": "Per Page", "default": 100}, "total_pages": {"type": "integer", "title": "Total Pages"}, "total_items": {"type": "integer", "title": "Total Items"}, "items": {"items": {"$ref": "#/components/schemas/PrivateEntryDetailsResponse"}, "type": "array", "title": "Items"}}, "type": "object", "required": ["total_pages", "total_items", "items"], "title": "PaginatedResponse[PrivateEntryDetailsResponse]"}, "PaginatedResponse_PublicEntryPreviewResponse_": {"properties": {"current_page": {"type": "integer", "minimum": 1.0, "title": "Current Page", "default": 1}, "per_page": {"type": "integer", "maximum": 100.0, "minimum": 1.0, "title": "Per Page", "default": 100}, "total_pages": {"type": "integer", "title": "Total Pages"}, "total_items": {"type": "integer", "title": "Total Items"}, "items": {"items": {"$ref": "#/components/schemas/PublicEntryPreviewResponse"}, "type": "array", "title": "Items"}}, "type": "object", "required": ["total_pages", "total_items", "items"], "title": "PaginatedResponse[PublicEntryPreviewResponse]"}, "PrivateEntryDetailsResponse": {"properties": {"response_model": {"type": "string", "title": "Response Model", "default": ""}, "id": {"type": "string", "format": "uuid4", "title": "Id", "examples": ["852ec509-3376-45d2-a614-cc878474b8f2"]}, "created_at": {"type": "string", "format": "date-time", "title": "Created At", "examples": ["2025-04-22 20:13:33.957508+00:00"]}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At", "examples": ["2025-04-22 20:13:33.957561+00:00"]}, "name": {"type": "string", "maxLength": 255, "title": "Name", "examples": ["Entry Name"]}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description", "examples": ["Markdown description."]}, "thumbnail_url": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Thumbnail Url", "examples": ["URL for entry thumbnail preview"]}, "is_public": {"type": "boolean", "title": "Is Public"}, "views": {"items": {"$ref": "#/components/schemas/PrivateViewResponse"}, "type": "array", "title": "Views"}, "link": {"$ref": "#/components/schemas/PrivateShareLinkResponse"}}, "type": "object", "required": ["id", "created_at", "updated_at", "name", "is_public", "views", "link"], "title": "PrivateEntryDetailsResponse"}, "PrivateShareLinkResponse": {"properties": {"id": {"type": "string", "format": "uuid4", "title": "Id", "examples": ["852ec509-3376-45d2-a614-cc878474b8f2"]}, "is_editable": {"type": "boolean", "title": "Is Editable"}, "is_active": {"type": "boolean", "title": "Is Active"}}, "type": "object", "required": ["id", "is_editable", "is_active"], "title": "PrivateShareLinkResponse"}, "PrivateViewResponse": {"properties": {"response_model": {"type": "string", "title": "Response Model", "default": ""}, "created_at": {"type": "string", "format": "date-time", "title": "Created At", "examples": ["2025-04-22 20:13:33.957508+00:00"]}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At", "examples": ["2025-04-22 20:13:33.957561+00:00"]}, "id": {"type": "string", "format": "uuid4", "title": "Id", "examples": ["852ec509-3376-45d2-a614-cc878474b8f2"]}, "name": {"type": "string", "maxLength": 255, "title": "Name"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "thumbnail_url": {"anyOf": [{"type": "string", "maxLength": 2083}, {"type": "null"}], "title": "Thumbnail Url"}, "snapshot_url": {"anyOf": [{"type": "string", "maxLength": 2083}, {"type": "null"}], "title": "Snapshot Url"}}, "type": "object", "required": ["created_at", "updated_at", "id", "name"], "title": "PrivateViewResponse"}, "PublicEntryDetailsResponse": {"properties": {"response_model": {"type": "string", "title": "Response Model", "default": ""}, "id": {"type": "string", "format": "uuid4", "title": "Id", "examples": ["852ec509-3376-45d2-a614-cc878474b8f2"]}, "created_at": {"type": "string", "format": "date-time", "title": "Created At", "examples": ["2025-04-22 20:13:33.957508+00:00"]}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At", "examples": ["2025-04-22 20:13:33.957561+00:00"]}, "name": {"type": "string", "maxLength": 255, "title": "Name", "examples": ["Entry Name"]}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description", "examples": ["Markdown description."]}, "thumbnail_url": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Thumbnail Url", "examples": ["URL for entry thumbnail preview"]}, "views": {"items": {"$ref": "#/components/schemas/PublicViewResponse"}, "type": "array", "title": "Views"}}, "type": "object", "required": ["id", "created_at", "updated_at", "name", "views"], "title": "PublicEntryDetailsResponse"}, "PublicEntryPreviewResponse": {"properties": {"response_model": {"type": "string", "title": "Response Model", "default": ""}, "id": {"type": "string", "format": "uuid4", "title": "Id", "examples": ["852ec509-3376-45d2-a614-cc878474b8f2"]}, "created_at": {"type": "string", "format": "date-time", "title": "Created At", "examples": ["2025-04-22 20:13:33.957508+00:00"]}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At", "examples": ["2025-04-22 20:13:33.957561+00:00"]}, "name": {"type": "string", "maxLength": 255, "title": "Name", "examples": ["Entry Name"]}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description", "examples": ["Markdown description."]}, "thumbnail_url": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Thumbnail Url", "examples": ["URL for entry thumbnail preview"]}}, "type": "object", "required": ["id", "created_at", "updated_at", "name"], "title": "PublicEntryPreviewResponse"}, "PublicViewResponse": {"properties": {"response_model": {"type": "string", "title": "Response Model", "default": ""}, "created_at": {"type": "string", "format": "date-time", "title": "Created At", "examples": ["2025-04-22 20:13:33.957508+00:00"]}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At", "examples": ["2025-04-22 20:13:33.957561+00:00"]}, "id": {"type": "string", "format": "uuid4", "title": "Id", "examples": ["852ec509-3376-45d2-a614-cc878474b8f2"]}, "name": {"type": "string", "maxLength": 255, "title": "Name"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "thumbnail_url": {"anyOf": [{"type": "string", "maxLength": 2083}, {"type": "null"}], "title": "Thumbnail Url"}, "snapshot_url": {"anyOf": [{"type": "string", "maxLength": 2083}, {"type": "null"}], "title": "Snapshot Url"}}, "type": "object", "required": ["created_at", "updated_at", "id", "name"], "title": "PublicViewResponse"}, "ShareLinkUpdateRequest": {"properties": {"is_editable": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Is Editable"}, "is_active": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Is Active"}}, "type": "object", "title": "ShareLinkUpdateRequest"}, "ValidationError": {"properties": {"loc": {"items": {"anyOf": [{"type": "string"}, {"type": "integer"}]}, "type": "array", "title": "Location"}, "msg": {"type": "string", "title": "Message"}, "type": {"type": "string", "title": "Error Type"}}, "type": "object", "required": ["loc", "msg", "type"], "title": "ValidationError"}, "ViewCreateRequest": {"properties": {"name": {"type": "string", "maxLength": 255, "title": "Name", "examples": ["View Name"]}, "description": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Description", "examples": ["View Description"]}, "snapshot_json": {"type": "string", "format": "binary", "title": "Snapshot Json", "description": "Mol* state file (.molj file)"}, "thumbnail_image": {"anyOf": [{"type": "string", "format": "binary"}, {"type": "null"}], "title": "Thumbnail Image", "description": "Thumbnail image for view"}}, "type": "object", "required": ["name", "snapshot_json"], "title": "ViewCreateRequest"}, "ViewResponse": {"properties": {"created_at": {"type": "string", "format": "date-time", "title": "Created At", "examples": ["2025-04-22 20:13:33.957508+00:00"]}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At", "examples": ["2025-04-22 20:13:33.957561+00:00"]}, "id": {"type": "string", "format": "uuid4", "title": "Id", "examples": ["852ec509-3376-45d2-a614-cc878474b8f2"]}, "name": {"type": "string", "maxLength": 255, "title": "Name"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "thumbnail_url": {"anyOf": [{"type": "string", "maxLength": 2083}, {"type": "null"}], "title": "Thumbnail Url"}, "snapshot_url": {"anyOf": [{"type": "string", "maxLength": 2083}, {"type": "null"}], "title": "Snapshot Url"}}, "type": "object", "required": ["created_at", "updated_at", "id", "name"], "title": "ViewResponse"}, "ViewUpdateRequest": {"properties": {"name": {"type": "string", "maxLength": 255, "title": "Name", "examples": ["View Name"]}, "description": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Description", "examples": ["View Description"]}}, "type": "object", "required": ["name"], "title": "ViewUpdateRequest"}}, "securitySchemes": {"OAuth2AuthorizationCodeBearer": {"type": "oauth2", "flows": {"authorizationCode": {"scopes": {"openid": "OpenId", "email": "Email"}, "authorizationUrl": "/api/v1/token", "tokenUrl": "/api/v1/token"}}}}}, "tags": [{"name": "Entries"}, {"name": "Views"}]}